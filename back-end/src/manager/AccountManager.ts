import { createNewAccount, getUserById, getUserByName, addSub, removeSub } from '../model/AccountModel'
import { IAccount } from '../model/AccountModel';

export interface IAccountManager {
    createUser(user: {}): Promise<IAccount>;
    getUserByUsername(username: string): Promise<IAccount | null>;
    getUserByUserId(userID: string): Promise<IAccount | null>;
    addSubscription(userID: string, subscription: string): Promise<IAccount | null>;
    removeSubscription(userID: string, subscription: string): Promise<IAccount | null>;
}

/* Coontroller for Account objects */
export class AccountManager implements IAccountManager {
    /* Call data model to create new user account */
    createUser = (user: {}) => {
        return createNewAccount(user);
    }
    
    /* Call data model to get a user by username */
    getUserByUsername = (username: string) => {
        return getUserByName(username);
    }
    
    /* Call data model to get a user by their ID */
    getUserByUserId = (userID: string) => {
        return getUserById(userID);
    }
   
    /* Call data model to add a subscription for the specified user */
    addSubscription = (userID: string, subscription: string) => {
        return addSub(userID, subscription);
    }
    
    /* Call data model to remove a subscription for the specified user */
    removeSubscription = (userID: string, subscription: string) => {
        return removeSub(userID, subscription);
    }
}
