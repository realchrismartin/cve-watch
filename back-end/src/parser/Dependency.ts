import IDependency from "./IDependency";
import DependencyType from "./DependencyType";

/* Object representation of a dependency retrieved from a GitHub repository */
class Dependency implements IDependency {
    name : string
    majorVersion : string
    minorVersion : string
    hotfixVersion : string
    type : DependencyType

    constructor(type : DependencyType, name : string, majorVersion : string, minorVersion : string, hotfixVersion : string) {
        this.name = name;
        this.majorVersion = majorVersion;
        this.minorVersion = minorVersion;
        this.hotfixVersion = hotfixVersion;
        this.type = type;
    }
    
    toSoftwareSearchResult(fromDependencyFile : string) : Object {

      return {
        deprecated: false,
        cpe23Uri: "n/a",
        lastModifiedDate: "n/a",
        titles: [
          { title: this.name, version: this.majorVersion + "." + this.minorVersion + "." + this.hotfixVersion, lang: "en_US", type:this.type },
        ],
        refs: [
          { file: fromDependencyFile }
        ],
        deprecatedBy: [],
        vulnerabilities: [],
};
    }
}

export default Dependency;