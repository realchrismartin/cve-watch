import axios from "axios";
import baseURL from "../BaseURL";
/* SoftwareService.tsx 
Defines all services required to fulfill software item-related actions defined in SoftwareAction*/

/* Get software from the NVD CPE API given a query keyword */
export async function getSoftwareFromCPE(query : string, startAt : number, pageSize : number) : Promise<any> {
    return new Promise((resolve,reject) => {
        axios.get(`${baseURL()}/software?query=${query}&startAt=${startAt}&pageSize=${pageSize}`,{withCredentials:true}).then(res => {
            resolve(res.data);
        }).catch((err) => {
            reject(err)
        });
    });
}

/* Get software from Github API given a GitHub user and repo */
export async function getSoftwareFromRepo(user : string, repo :string, startAt : number, pageSize : number) : Promise<any> {
    return new Promise((resolve,reject) => {
        axios.get(`${baseURL()}/software/fromRepo/${user}/${repo}?startAt=${startAt}&pageSize=${pageSize}`,{withCredentials:true}).then(res => {
            resolve(res.data);
        }).catch((err) => {
            reject(err)
        });
    });
}