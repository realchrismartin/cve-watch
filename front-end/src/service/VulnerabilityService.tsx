import axios from "axios";

//TODO: Ensure CORS works when changed
//TODO: Shift to environment
const BASE_URL = "http://localhost:80";

export async function getVulnerabilityData(query : string, startAt : number, pageSize : number) : Promise<any> {
    return new Promise((resolve,reject) => {
        //TODO: Remove /test or add /test if using test data
        //axios.get(`${BASE_URL}/vulnerabilities/test?query=${query}&startAt=${startAt}&pageSize=${pageSize}`,{withCredentials:true}).then(res => {
        axios.get(`${BASE_URL}/vulnerabilities?query=${query}&startAt=${startAt}&pageSize=${pageSize}`,{withCredentials:true}).then(res => {
            resolve(res.data);
        })
    });
}