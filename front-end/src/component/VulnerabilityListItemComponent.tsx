import React from 'react' ;
import "../css/VulnerabilityListItemComponent.css";

type PropsType = {
    data:any;
}
type ComponentType = {
    expanded:boolean;
}

class VulnerabilityListItemComponent extends React.Component<PropsType,ComponentType> {

    constructor(props : PropsType) {
        super(props);
        this.state = {
            expanded:false
        }
    }

    handleOnClick() {
        if(this.state.expanded) {
            this.setState({expanded:false});
        } else {
            this.setState({expanded:true});
        }
    }

    render() {

        let detailCSSClassName = this.state.expanded ? "vulnerability-list-item-detail vulnerability-list-item-detail-expanded" : "vulnerability-list-item-detail vulnerability-list-item-detail-collapsed";

        return (
            <div className="vulnerability-list-item" onClick={()=>{this.handleOnClick()}}>
                <span className="vulnerability-list-item-id" >{this.props.data["cve"]["CVE_data_meta"]["ID"]}
                    <div className={detailCSSClassName}>{this.props.data["cve"]["description"]["description_data"][0]["value"]}</div>
                </span>
            </div>
        )
    }
}

export default VulnerabilityListItemComponent;