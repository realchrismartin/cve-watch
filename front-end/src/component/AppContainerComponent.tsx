import React from "react";
import { connect, ConnectedProps } from "react-redux";
import { RootState } from "../store";
import NavbarComponent from "./NavbarComponent";
import SidebarComponent from "./SidebarComponent";
import VulnerabilityListViewComponent from "./VulnerabilityListViewComponent";
import "../css/AppContainerComponent.css";
import SoftwareSearchViewComponent from "./SoftwareSearchViewComponent";
import AccountSettingsViewComponent from "./AccountSettingsViewComponent";
import AccountCreationViewComponent from "./AccountCreationViewComponent";

type ConstructorType = {};

type PropsType = ConnectedProps<typeof connector>;

class AppContainerComponent extends React.Component<
  PropsType,
  ConstructorType
> {

  render(): any {
    let components = [
      <AccountCreationViewComponent />,
      <VulnerabilityListViewComponent />,
      <SoftwareSearchViewComponent />,
      <AccountSettingsViewComponent />
    ];

    return (
      <div className="app-container">
        <div className="navbar-container">
          <NavbarComponent />
        </div>
        <div className="sidebar-container">
          <SidebarComponent />
        </div>
        <div className="content-container">{components[this.props.view]}</div>
      </div>
    );
  }
}
function mapStateToProps(state: RootState) {
  return {
    view: state.settingsReducer.view,
  };
}

const connector = connect(mapStateToProps);
export default connector(AppContainerComponent);
