import {checkUserSession} from "../service/AccountService";
import {AppThunk} from "../type/Action";

export const checkUserSessionAction = () : AppThunk => async dispatch => {
    return checkUserSession().then((res) => {
        return dispatch({type:"SET_ACCOUNT_SESSION"});
    }).catch((err) => {
        return dispatch({type:"CLEAR_ACCOUNT_SESSION"});
    });
}

export const updateAccountSubscriptionsAction = () : AppThunk => async dispatch => {
    //TODO: Fetch subscriptions from the server

    return dispatch({type:"SET_ACCOUNT_SUBSCRIPTIONS",subscriptions:["PLACEHOLDER"]}); //TODO
}

export const clearAccountSubscriptionsAction = () : AppThunk => async dispatch => {
    return dispatch({type:"SET_ACCOUNT_SUBSCRIPTIONS",subscriptions:[]}); 
}
